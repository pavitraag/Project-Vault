<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Miscellaneous Projects - Project Vault</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="../../style.css" />
  <link rel="stylesheet" href="../css_files/website.css" />
</head>

<body>
  <nav>
    <div class="nav-container">
      <div class="nav-logo">Project Vault</div>

      <div class="mobile-menu-toggle" id="mobileMenuToggle">
        <span></span>
        <span></span>
        <span></span>
      </div>

      <div class="nav-right">
        <a href="../../index.html" class="nav-link"><i class="fa-solid fa-house"></i> Home</a>
        <a href="./aboutus.html" class="nav-link active"><i class="fa-solid fa-circle-info"></i> About Us</a>
        <div class="dropdown">
          <div class="dropdown-toggle nav-link"><i class="fa-solid fa-icons"></i> Components â–¾</div>
          <div class="dropdown-content">
            <a href="./website.html">Webfolio</a>
            <a href="./games.html">Games</a>
            <a href="./ml.html">ML Projects</a>
            <a href="./techStack.html"><i class="fa-solid fa-search"></i> by Tech Stack</a>
          </div>
        </div>
        <a href="../../faq.html" class="nav-link"><i class="fa-solid fa-question-circle"></i> FAQ</a>
        <a href="./discussion.html" class="nav-link"><i class="fa-solid fa-comment"></i> Forum</a>
        <a href="./contact.html" class="nav-link"><i class="fa-solid fa-phone"></i> Contact Us</a>
      </div>

    </div>
    <div>
      <a href="../../index.html" class="back-button">
        <i class="fas fa-arrow-left"></i> Back to Home
      </a>
    </div>
  </nav>

  <header class="webfolio-header">
    <div class="header-content">
      <h1>Miscellaneous Projects</h1>
      <p>Explore a variety of projects across different domains.</p>
    </div>
  </header>

  <main class=".webfolio-main">
    <!-- FAVORITES FILTER BUTTON -->
    <div class="favorites-toggle">
      <button id="favoritesToggleBtn" onclick="toggleFavoritesView()">Show Favorites</button>
    </div>
    <div class="category-container">

      <div class="category-card">
        <h3>Face Recognition Login System</h3>
        <p>A secure login system using Flask and OpenCV to authenticate users through facial recognition. Great for
          learning basic computer vision and authentication.</p>
        <a href="https://github.com/pavitraag/Project-Vault/tree/main/Miscellaneous/face-recognition-login"
          class="view-button">View Code</a><br>
        <button class="fav-btn" onclick="toggleFavorite(this)">
          <i class="fa-regular fa-star"></i>
        </button>
      </div>
    </div>
  </main>

  <div id="footer-placeholder"></div>
  <script>
  function toggleFavorite(btn) {
    const card = btn.closest('.category-card');
    const title = card.querySelector('h3').innerText;
    const icon = btn.querySelector('i');
    const pageKey = window.location.pathname.split("/").pop().replace(".html", "");
    const storageKey = `favorites-${pageKey}`;
    const favorites = JSON.parse(localStorage.getItem(storageKey)) || [];

    card.classList.toggle('favorited');
    const isFav = card.classList.contains('favorited');

    icon.classList.toggle('fa-regular', !isFav);
    icon.classList.toggle('fa-solid', isFav);

    if (isFav) {
      if (!favorites.includes(title)) favorites.push(title);
    } else {
      const index = favorites.indexOf(title);
      if (index !== -1) favorites.splice(index, 1);
    }

    localStorage.setItem(storageKey, JSON.stringify(favorites));
  }

  function loadFavorites() {
    const pageKey = window.location.pathname.split("/").pop().replace(".html", "");
    const storageKey = `favorites-${pageKey}`;
    const favorites = JSON.parse(localStorage.getItem(storageKey)) || [];

    document.querySelectorAll('.category-card').forEach(card => {
      const title = card.querySelector('h3').innerText;
      const icon = card.querySelector('.fav-btn i');
      if (favorites.includes(title)) {
        card.classList.add('favorited');
        icon.classList.remove('fa-regular');
        icon.classList.add('fa-solid');
      }
    });
  }

  function toggleFavoritesView() {
    const btn = document.getElementById('favoritesToggleBtn');
    const showOnlyFavorites = btn.classList.toggle('showing');
    const pageKey = window.location.pathname.split("/").pop().replace(".html", "");
    const storageKey = `favorites-${pageKey}`;
    const favorites = JSON.parse(localStorage.getItem(storageKey)) || [];

    document.querySelectorAll('.category-card').forEach(card => {
      const title = card.querySelector('h3').innerText;
      card.style.display = (showOnlyFavorites && !favorites.includes(title)) ? 'none' : 'block';
    });

    btn.innerText = showOnlyFavorites ? 'Show All' : 'Show Favorites';
  }

  window.addEventListener('DOMContentLoaded', loadFavorites);
</script>

  <script>
  fetch("/footer.html")
    .then(response => response.text())
    .then(data => {
      document.getElementById("footer-placeholder").innerHTML = data;
    });
</script>

  <script>
    fetch("../../footer.html")
      .then(response => response.text())
      .then(data => {
        document.getElementById("footer-placeholder").innerHTML = data;
      });
  </script>
</body>

</html>